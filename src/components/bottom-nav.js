import Link from 'next/link'
import { useRouter } from 'next/router'
import { useContext } from 'react'
import AuthContext from '../context/AuthContext'



function BottomNav() {
	const router = useRouter()
	const {user, logout} = useContext(AuthContext)



	return (
		<div className='sm:hidden'>
			<nav className='fixed bottom-0 w-full border-t bg-zinc-100 pb-safe dark:border-zinc-800 dark:bg-zinc-900'>
				
				{user ? <>
					
					{user.business === 'False' ? 
					<div className='mx-auto flex h-16 max-w-md items-center justify-around px-6'>
						{userLinks.map(({ href, label, icon }) => (
							<Link legacyBehavior key={label} href={href}>
								<a
									className={`flex h-full w-full flex-col items-center justify-center space-y-1 ${
										router.pathname === href
											? 'text-indigo-500 dark:text-indigo-400'
											: 'text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50'
									}`}
								>
									{icon}
									<span className='text-xs text-zinc-600 dark:text-zinc-400'>
										{label}
									</span>
								</a>
							</Link>
						))}
					</div>
					
				:
				<div className='mx-auto flex h-16 max-w-md items-center justify-around'>
					{busiLinks.map(({ href, label, icon }) => (
						<Link legacyBehavior key={label} href={href}>
							<a
								className={`flex h-full w-full flex-col items-center justify-center space-y-1 ${
									router.pathname === href
										? 'text-indigo-500 dark:text-indigo-400'
										: 'text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50'
								}`}
							>
								{icon}
								<span className='text-xs text-zinc-600 dark:text-zinc-400'>
									{label}
								</span>
							</a>
						</Link>
					))}
					</div>
				}
				</> : <>
				<div className='mx-auto flex h-16 max-w-md items-center justify-around px-6'>
					{noUserLinks.map(({ href, label, icon }) => (
						<Link legacyBehavior key={label} href={href}>
							<a
								className={`flex h-full w-full flex-col items-center justify-center space-y-1 ${
									router.pathname === href
										? 'text-indigo-500 dark:text-indigo-400'
										: 'text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-zinc-50'
								}`}
							>
								{icon}
								<span className='text-xs text-zinc-600 dark:text-zinc-400'>
									{label}
								</span>
							</a>
						</Link>
					))}
					</div>
					</>} 
				
			</nav>
		</div>
	)
}

export default BottomNav

const userLinks = [
	{
		label: 'Home',
		href: '/',
		icon: (
			<svg
				viewBox='0 0 15 15'
				fill='none'
				xmlns='http://www.w3.org/2000/svg'
				width='18'
				height='18'
			>
				<path
					d='M7.5.5l.325-.38a.5.5 0 00-.65 0L7.5.5zm-7 6l-.325-.38L0 6.27v.23h.5zm5 8v.5a.5.5 0 00.5-.5h-.5zm4 0H9a.5.5 0 00.5.5v-.5zm5-8h.5v-.23l-.175-.15-.325.38zM1.5 15h4v-1h-4v1zm13.325-8.88l-7-6-.65.76 7 6 .65-.76zm-7.65-6l-7 6 .65.76 7-6-.65-.76zM6 14.5v-3H5v3h1zm3-3v3h1v-3H9zm.5 3.5h4v-1h-4v1zm5.5-1.5v-7h-1v7h1zm-15-7v7h1v-7H0zM7.5 10A1.5 1.5 0 019 11.5h1A2.5 2.5 0 007.5 9v1zm0-1A2.5 2.5 0 005 11.5h1A1.5 1.5 0 017.5 10V9zm6 6a1.5 1.5 0 001.5-1.5h-1a.5.5 0 01-.5.5v1zm-12-1a.5.5 0 01-.5-.5H0A1.5 1.5 0 001.5 15v-1z'
					fill='currentColor'
				/>
			</svg>
		),
	},
	{
		label: 'Discover',
		href: '/discover',
		icon: (
			<svg
				viewBox='0 0 15 15'
				fill='none'
				xmlns='http://www.w3.org/2000/svg'
				width='18'
				height='18'
			>
				<path
					d='M7.5 15V7m0 .5v3m0-3a4 4 0 00-4-4h-3v3a4 4 0 004 4h3m0-3h3a4 4 0 004-4v-3h-3a4 4 0 00-4 4v3zm0 0l4-4m-4 7l-4-4'
					stroke='currentColor'
				/>
			</svg>
		),
	},
	{
		label: 'Scan',
		href: '/scan',
		icon: (
			<svg
			viewBox='0 0 22 20'
			fill='none'
			xmlns='http://www.w3.org/2000/svg'
			width='18'
			height='18'
		>
			<path
				d='M21.1972192,9.23684211 C21.4724456,9.20531344 21.7415728,9.33252106 21.8892455,9.56394031 C22.0369182,9.79535956 22.0369182,10.0899036 21.8892455,10.3213228 C21.7415728,10.5527421 21.4724456,10.6799497 21.1972192,10.6484211 L21.1972192,10.6484211 L20.1798966,10.6484211 L20.1798966,13.3105263 C20.1824453,14.5533801 19.6840627,15.7461917 18.7946562,16.625912 C17.9052498,17.5056323 16.6978739,18 15.4387895,18 L15.4387895,18 L14.6614015,18 C14.2638649,18 13.9415978,17.6818865 13.9415978,17.2894737 C13.9415978,16.8970608 14.2638649,16.5789474 14.6614015,16.5789474 L14.6614015,16.5789474 L15.4387895,16.5789474 C17.2524483,16.5581891 18.7116189,15.1009296 18.711497,13.3105263 L18.711497,13.3105263 L18.711497,10.6484211 L16.0146325,10.6484211 L16.0146325,11.7094737 C16.0146325,12.2999293 15.7770123,12.8662015 15.3540455,13.2837167 C14.9310788,13.7012319 14.3574128,13.9357895 13.7592475,13.9357895 L13.7592475,13.9357895 L8.26954461,13.9357895 C7.0239299,13.9357895 6.01415967,12.9390339 6.01415967,11.7094737 L6.01415967,11.7094737 L6.01415967,10.6484211 L3.35568465,10.6484211 L3.35568465,13.3105263 C3.35568465,15.1156254 4.83811329,16.5789474 6.66678169,16.5789474 L6.66678169,16.5789474 L7.49215661,16.5789474 C7.88969322,16.5789474 8.21196031,16.8970608 8.21196031,17.2894737 C8.21196031,17.6818865 7.88969322,18 7.49215661,18 L7.49215661,18 L6.71476861,18 C4.08315205,18.0001299 1.9423934,15.9080947 1.91607723,13.3105263 L1.91607723,13.3105263 L1.91607723,10.6484211 L0.802780836,10.6484211 C0.527554413,10.6799497 0.258427242,10.5527421 0.110754532,10.3213228 C-0.0369181774,10.0899036 -0.0369181774,9.79535956 0.110754532,9.56394031 C0.258427242,9.33252106 0.527554413,9.20531344 0.802780836,9.23684211 L0.802780836,9.23684211 Z M13.7496502,4.06421053 C14.3478154,4.06421053 14.9214814,4.29876812 15.3444481,4.71628332 C15.7674149,5.13379852 16.0050351,5.70007066 16.0050351,6.29052632 L16.0050351,6.29052632 L16.0050351,7.51263158 C16.0077577,7.58377363 15.9803208,7.65281715 15.9293226,7.70315806 C15.8783244,7.75349896 15.8083793,7.78058225 15.7363084,7.77789474 L15.7363084,7.77789474 L6.28288638,7.77789474 C6.21081542,7.78058225 6.1408704,7.75349896 6.08987219,7.70315806 C6.03887397,7.65281715 6.01143706,7.58377363 6.01415967,7.51263158 L6.01415967,7.51263158 L6.01415967,6.29052632 C6.01415967,5.06096606 7.0239299,4.06421053 8.26954461,4.06421053 L8.26954461,4.06421053 Z M15.4387895,5.68434189e-14 C18.0552408,0.0464966099 20.1515284,2.15369526 20.1511045,4.73684211 L20.1511045,4.73684211 L20.1511045,5.75052632 C20.1511045,6.14293916 19.8288373,6.46105263 19.4313007,6.46105263 C19.0337641,6.46105263 18.711497,6.14293916 18.711497,5.75052632 L18.711497,5.75052632 L18.711497,4.73684211 C18.7243076,3.86835591 18.3863844,3.03055443 17.7723434,2.40843021 C17.1583024,1.78630599 16.3186508,1.43103105 15.4387895,1.42105263 L15.4387895,1.42105263 L14.6614015,1.42105263 C14.2638649,1.42105263 13.9415978,1.10293916 13.9415978,0.710526316 C13.9415978,0.318113467 14.2638649,5.68434189e-14 14.6614015,5.68434189e-14 L14.6614015,5.68434189e-14 Z M7.44416969,5.68434189e-14 C7.83954545,0.0051023485 8.15880443,0.320246466 8.1639734,0.710526316 C8.15880443,1.10080617 7.83954545,1.41595028 7.44416969,1.42105263 L7.44416969,1.42105263 L6.66678169,1.42105263 C5.7802463,1.42096072 4.9307011,1.77180596 4.30835191,2.39503713 C3.68600272,3.01826831 3.3428363,3.86182498 3.35568465,4.73684211 L3.35568465,4.73684211 L3.35568465,5.75052632 C3.35051568,6.14080617 3.0312567,6.45595028 2.63588094,6.46105263 L2.63588094,6.46105263 L2.62628356,6.46105263 L2.5295877,6.45340744 C2.18196026,6.40260168 1.91607723,6.10687381 1.91607723,5.75052632 L1.91607723,5.75052632 L1.91607723,4.73684211 C1.91594565,2.13914387 4.03529672,0.0259769791 6.66678169,5.68434189e-14 L6.66678169,5.68434189e-14 Z'
				fill='currentColor'
			/>
		</svg>
		),
	},
	{
		label: 'Vouchers',
		href: '/vouchers',
		icon: (
			<svg
				viewBox='0 0 15 15'
				fill='none'
				xmlns='http://www.w3.org/2000/svg'
				width='18'
				height='18'
			>
				<path
					d='M2.5.5V0H2v.5h.5zm10 0h.5V0h-.5v.5zM4.947 4.724a.5.5 0 00-.894-.448l.894.448zM2.5 8.494l-.447-.223-.146.293.21.251.383-.32zm5 5.997l-.384.32a.5.5 0 00.769 0l-.385-.32zm5-5.996l.384.32.21-.251-.146-.293-.447.224zm-1.553-4.219a.5.5 0 00-.894.448l.894-.448zM8 9.494v-.5H7v.5h1zm-.5-4.497A4.498 4.498 0 013 .5H2a5.498 5.498 0 005.5 5.497v-1zM2.5 1h10V0h-10v1zM12 .5a4.498 4.498 0 01-4.5 4.497v1c3.038 0 5.5-2.46 5.5-5.497h-1zM4.053 4.276l-2 3.995.895.448 2-3.995-.895-.448zM2.116 8.815l5 5.996.769-.64-5-5.996-.769.64zm5.768 5.996l5-5.996-.768-.64-5 5.996.769.64zm5.064-6.54l-2-3.995-.895.448 2 3.995.895-.448zM8 14.49V9.494H7v4.997h1z'
					fill='currentColor'
				/>
			</svg>
		),
	},
	{
		label: 'Offers',
		href: '/offers',
		icon: (
			<svg
				viewBox='0 0 15 15'
				fill='none'
				xmlns='http://www.w3.org/2000/svg'
				width='18'
				height='18'
			>
				<path
					d='M2.5.5V0H2v.5h.5zm10 0h.5V0h-.5v.5zM4.947 4.724a.5.5 0 00-.894-.448l.894.448zM2.5 8.494l-.447-.223-.146.293.21.251.383-.32zm5 5.997l-.384.32a.5.5 0 00.769 0l-.385-.32zm5-5.996l.384.32.21-.251-.146-.293-.447.224zm-1.553-4.219a.5.5 0 00-.894.448l.894-.448zM8 9.494v-.5H7v.5h1zm-.5-4.497A4.498 4.498 0 013 .5H2a5.498 5.498 0 005.5 5.497v-1zM2.5 1h10V0h-10v1zM12 .5a4.498 4.498 0 01-4.5 4.497v1c3.038 0 5.5-2.46 5.5-5.497h-1zM4.053 4.276l-2 3.995.895.448 2-3.995-.895-.448zM2.116 8.815l5 5.996.769-.64-5-5.996-.769.64zm5.768 5.996l5-5.996-.768-.64-5 5.996.769.64zm5.064-6.54l-2-3.995-.895.448 2 3.995.895-.448zM8 14.49V9.494H7v4.997h1z'
					fill='currentColor'
				/>
			</svg>
		),
	}
]

const noUserLinks = [
	
	{
		label: 'Discover',
		href: '/discover',
		icon: (
			<svg className="svg-icon" viewBox="0 0 20 20">
							<path d="M10,1.375c-3.17,0-5.75,2.548-5.75,5.682c0,6.685,5.259,11.276,5.483,11.469c0.152,0.132,0.382,0.132,0.534,0c0.224-0.193,5.481-4.784,5.483-11.469C15.75,3.923,13.171,1.375,10,1.375 M10,17.653c-1.064-1.024-4.929-5.127-4.929-10.596c0-2.68,2.212-4.861,4.929-4.861s4.929,2.181,4.929,4.861C14.927,12.518,11.063,16.627,10,17.653 M10,3.839c-1.815,0-3.286,1.47-3.286,3.286s1.47,3.286,3.286,3.286s3.286-1.47,3.286-3.286S11.815,3.839,10,3.839 M10,9.589c-1.359,0-2.464-1.105-2.464-2.464S8.641,4.661,10,4.661s2.464,1.105,2.464,2.464S11.359,9.589,10,9.589">

							</path>
						</svg>)	},
	{
		label: 'Offers',
		href: '/offers',
		icon: (
			<svg className="svg-icon" viewBox="0 0 20 20">
							<path d="M17.35,2.219h-5.934c-0.115,0-0.225,0.045-0.307,0.128l-8.762,8.762c-0.171,0.168-0.171,0.443,0,0.611l5.933,5.934c0.167,0.171,0.443,0.169,0.612,0l8.762-8.763c0.083-0.083,0.128-0.192,0.128-0.307V2.651C17.781,2.414,17.587,2.219,17.35,2.219M16.916,8.405l-8.332,8.332l-5.321-5.321l8.333-8.332h5.32V8.405z M13.891,4.367c-0.957,0-1.729,0.772-1.729,1.729c0,0.957,0.771,1.729,1.729,1.729s1.729-0.772,1.729-1.729C15.619,5.14,14.848,4.367,13.891,4.367 M14.502,6.708c-0.326,0.326-0.896,0.326-1.223,0c-0.338-0.342-0.338-0.882,0-1.224c0.342-0.337,0.881-0.337,1.223,0C14.84,5.826,14.84,6.366,14.502,6.708"></path>
						</svg>
		),
	}
]
const busiLinks = [
	{
		label: 'Add Location',
		href: '/ourlocations/add',
		icon: (
			<svg className="svg-icon" viewBox="0 0 20 20">
							<path d="M14.613,10c0,0.23-0.188,0.419-0.419,0.419H10.42v3.774c0,0.23-0.189,0.42-0.42,0.42s-0.419-0.189-0.419-0.42v-3.774H5.806c-0.23,0-0.419-0.189-0.419-0.419s0.189-0.419,0.419-0.419h3.775V5.806c0-0.23,0.189-0.419,0.419-0.419s0.42,0.189,0.42,0.419v3.775h3.774C14.425,9.581,14.613,9.77,14.613,10 M17.969,10c0,4.401-3.567,7.969-7.969,7.969c-4.402,0-7.969-3.567-7.969-7.969c0-4.402,3.567-7.969,7.969-7.969C14.401,2.031,17.969,5.598,17.969,10 M17.13,10c0-3.932-3.198-7.13-7.13-7.13S2.87,6.068,2.87,10c0,3.933,3.198,7.13,7.13,7.13S17.13,13.933,17.13,10"></path>
						</svg>
		),
	},
	{
		label: 'Our Locations',
		href: '/ourlocations',
		icon: (
			<svg className="svg-icon" viewBox="0 0 20 20">
							<path d="M10,1.375c-3.17,0-5.75,2.548-5.75,5.682c0,6.685,5.259,11.276,5.483,11.469c0.152,0.132,0.382,0.132,0.534,0c0.224-0.193,5.481-4.784,5.483-11.469C15.75,3.923,13.171,1.375,10,1.375 M10,17.653c-1.064-1.024-4.929-5.127-4.929-10.596c0-2.68,2.212-4.861,4.929-4.861s4.929,2.181,4.929,4.861C14.927,12.518,11.063,16.627,10,17.653 M10,3.839c-1.815,0-3.286,1.47-3.286,3.286s1.47,3.286,3.286,3.286s3.286-1.47,3.286-3.286S11.815,3.839,10,3.839 M10,9.589c-1.359,0-2.464-1.105-2.464-2.464S8.641,4.661,10,4.661s2.464,1.105,2.464,2.464S11.359,9.589,10,9.589"></path>
						</svg>
		),
	},
	{
		label: 'Add Offer',
		href: '/ouroffers/add',
		icon: (
			<svg className="svg-icon" viewBox="0 0 20 20">
							<path d="M14.613,10c0,0.23-0.188,0.419-0.419,0.419H10.42v3.774c0,0.23-0.189,0.42-0.42,0.42s-0.419-0.189-0.419-0.42v-3.774H5.806c-0.23,0-0.419-0.189-0.419-0.419s0.189-0.419,0.419-0.419h3.775V5.806c0-0.23,0.189-0.419,0.419-0.419s0.42,0.189,0.42,0.419v3.775h3.774C14.425,9.581,14.613,9.77,14.613,10 M17.969,10c0,4.401-3.567,7.969-7.969,7.969c-4.402,0-7.969-3.567-7.969-7.969c0-4.402,3.567-7.969,7.969-7.969C14.401,2.031,17.969,5.598,17.969,10 M17.13,10c0-3.932-3.198-7.13-7.13-7.13S2.87,6.068,2.87,10c0,3.933,3.198,7.13,7.13,7.13S17.13,13.933,17.13,10"></path>
						</svg>
		),
	},
	{
		label: 'Our Offers',
		href: '/ouroffers',
		icon: (
			<svg className="svg-icon" viewBox="0 0 20 20">
							<path d="M17.35,2.219h-5.934c-0.115,0-0.225,0.045-0.307,0.128l-8.762,8.762c-0.171,0.168-0.171,0.443,0,0.611l5.933,5.934c0.167,0.171,0.443,0.169,0.612,0l8.762-8.763c0.083-0.083,0.128-0.192,0.128-0.307V2.651C17.781,2.414,17.587,2.219,17.35,2.219M16.916,8.405l-8.332,8.332l-5.321-5.321l8.333-8.332h5.32V8.405z M13.891,4.367c-0.957,0-1.729,0.772-1.729,1.729c0,0.957,0.771,1.729,1.729,1.729s1.729-0.772,1.729-1.729C15.619,5.14,14.848,4.367,13.891,4.367 M14.502,6.708c-0.326,0.326-0.896,0.326-1.223,0c-0.338-0.342-0.338-0.882,0-1.224c0.342-0.337,0.881-0.337,1.223,0C14.84,5.826,14.84,6.366,14.502,6.708"></path>
						</svg>
		),
	},
	{
		label: 'Dashboard',
		href: '/dashboard',
		icon: (
			<svg className="svg-icon" viewBox="0 0 20 20">
							<path d="M17.431,2.156h-3.715c-0.228,0-0.413,0.186-0.413,0.413v6.973h-2.89V6.687c0-0.229-0.186-0.413-0.413-0.413H6.285c-0.228,0-0.413,0.184-0.413,0.413v6.388H2.569c-0.227,0-0.413,0.187-0.413,0.413v3.942c0,0.228,0.186,0.413,0.413,0.413h14.862c0.228,0,0.413-0.186,0.413-0.413V2.569C17.844,2.342,17.658,2.156,17.431,2.156 M5.872,17.019h-2.89v-3.117h2.89V17.019zM9.587,17.019h-2.89V7.1h2.89V17.019z M13.303,17.019h-2.89v-6.651h2.89V17.019z M17.019,17.019h-2.891V2.982h2.891V17.019z"></path>
						</svg>
		),
	},
	
]